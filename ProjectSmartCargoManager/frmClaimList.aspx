<%@ Page Language="C#" AutoEventWireup="true" MasterPageFile="~/SmartCargoMaster.Master" CodeBehind="frmClaimList.aspx.cs" Inherits="ProjectSmartCargoManager.frmClaimList" %><%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="asp" %><asp:Content ID="header" runat="server" ContentPlaceHolderID="head"></asp:Content><asp:Content ID="Content1" runat="server" ContentPlaceHolderID="ContentPlaceHolder1">    <script type="text/javascript">    function expandcollapse(obj, row) {        var div = document.getElementById(obj);        var img = document.getElementById('img' + obj);        alert("inside gridview");        if (div.style.display == "none") {            div.style.display = "block";            if (row == 'alt') {                img.src = "minus.gif";            }            else {                img.src = "minus.gif";            }            img.alt = "Close to view";        }        else {            div.style.display = "none";            if (row == 'alt') {                img.src = "plus.gif";            }            else {                img.src = "plus.gif";            }            img.alt = "Expand to show documents!";        }    }    function DownloadDocs(ClaimID, DocList) {        var InvList = DocList        var invArr = InvList.split(',');        for (var i = 0; i < invArr.length; i++) {            window.open("ClaimsDownload.aspx?ClaimID=" + ClaimID + "&DocType=" + invArr[i],'Claims Download'+i.toString(), 'menubar=0, toolbar=0, location=0, status=0, resizable=0, width=400, height=300');        }    }</script><asp:ToolkitScriptManager ID="Toolscriptmanager1" runat="server" EnablePageMethods="true"></asp:ToolkitScriptManager><div id="contentarea"><h1>Claims List</h1><asp:Label ID="lblStatus" runat="server" BackColor="White" Font-Bold="True" Font-Size="Large"                ForeColor="Red"></asp:Label><div class="botline"><table cellpadding="5"><tr><td>    Claim Dt</td><td>    <asp:TextBox ID="txtFromDate" runat="server" Width="90px"></asp:TextBox>    <asp:ImageButton ID="btnFromDate" runat="server" ImageUrl="~/Images/calendar_2.png"           ImageAlign="AbsMiddle" />        <asp:CalendarExtender ID="CEBillingFrom" Format="dd/MM/yyyy" TargetControlID="txtFromDate"           PopupButtonID="btnFromDate" runat="server" PopupPosition="BottomLeft">        </asp:CalendarExtender> &nbsp;    &nbsp;    <asp:TextBox ID="txtToDate" runat="server" Width="90px"></asp:TextBox>    <asp:ImageButton ID="ImageButton1" runat="server" ImageUrl="~/Images/calendar_2.png"           ImageAlign="AbsMiddle" />        <asp:CalendarExtender ID="CalendarExtender1" Format="dd/MM/yyyy" TargetControlID="txtToDate"           PopupButtonID="ImageButton1" runat="server" PopupPosition="BottomLeft">        </asp:CalendarExtender>    </td>    <td>Claim Type</td>    <td>    <asp:DropDownList ID="ddlClaimType" runat="server">    <asp:ListItem>All</asp:ListItem>      <asp:ListItem>Lost</asp:ListItem>          <asp:ListItem>Damage</asp:ListItem>          <asp:ListItem>Partial Loss</asp:ListItem>          <asp:ListItem>Delay</asp:ListItem>          <asp:ListItem>Pilferage</asp:ListItem>          </asp:DropDownList>    </td>    <td>        Claim Status</td>    <td>    <asp:DropDownList ID="ddlClaimStatus" runat="server">    <asp:ListItem>All</asp:ListItem>        <asp:ListItem>Open</asp:ListItem>          <asp:ListItem>Closed</asp:ListItem>          <asp:ListItem>In Process</asp:ListItem>          <asp:ListItem>Rejected</asp:ListItem>    </asp:DropDownList>    </td>    <td>AWB No</td>    <td>                <asp:TextBox ID="txtAWBPrefix" runat="server" Width="40px" MaxLength="3"></asp:TextBox>                   <asp:TextBoxWatermarkExtender ID="TextBoxWatermarkExtender2"                     runat="server" TargetControlID="txtAWBPrefix" WatermarkText="Prefix">                </asp:TextBoxWatermarkExtender>             &nbsp;            <asp:TextBox ID="txtAWBNo" runat="server" Width="90px" MaxLength="10"></asp:TextBox>    </td></tr><tr><td colspan="2">    <asp:Button ID="btnList" runat="server" CssClass="button" Text="List"         onclick="btnList_Click" /> &nbsp;            <asp:Button ID="btnClear" runat="server" CssClass="button" Text="Clear"         onclick="btnClear_Click" /> </td></tr></table></div><div style="float:left;"><asp:GridView ID="grdClaimList" runat="server" AutoGenerateColumns="false"     style="Z-INDEX: 101" Width="100%"        ShowFooter="false" Font-Size="Small"            Font-Names="Verdana"  BorderStyle="Outset"        AllowSorting="true"               PageSize="10" onrowcommand="grdClaimList_RowCommand"><Columns>                <asp:TemplateField AccessibleHeaderText="AWBNo" HeaderText="AWBNo" Visible="false"><ItemTemplate><asp:Label ID="lblClaimID" runat="server" Text='<%# Eval("ClaimID") %>' Visible="false"></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField AccessibleHeaderText="AWBNo" HeaderText="AWBNo"><ItemTemplate><asp:Label ID="lblPrefix" runat="server" Text='<%# Eval("AWBPrefix") %>'></asp:Label><asp:Label ID="Label1" runat="server" Text="-"></asp:Label><asp:Label ID="lblAWBNo" runat="server" Text='<%# Eval("AWBNumber") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Name of Applicant"><ItemTemplate><asp:Label ID="lblFullName" runat="server" Text='<%# Eval("FullName") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Type"><ItemTemplate><asp:Label ID="lblClaimType" runat="server" Text='<%# Eval("ClaimType") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Station"><ItemTemplate><asp:Label ID="lblClaimStation" runat="server" Text='<%# Eval("ClaimStation") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Date"><ItemTemplate><asp:Label ID="lblClaimDate" runat="server" Text='<%# Eval("ClaimDate") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Status"><ItemTemplate><asp:Label ID="lblClaimStatus" runat="server" Text='<%# Eval("Status") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Amount"><ItemTemplate><asp:Label ID="lblClaimAmt" runat="server" Text='<%# Eval("ClaimAmt") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Nature Of Goods"><ItemTemplate><asp:Label ID="Commodity" runat="server" Text='<%# Eval("Commodity") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField><ItemTemplate><asp:HyperLink ID="hlnkEdit" runat="server" Text="Edit" NavigateUrl='<%# "frmClaimApplication.aspx?Edit=" + Eval("ClaimID")%>'></asp:HyperLink></ItemTemplate></asp:TemplateField><asp:TemplateField><ItemTemplate><asp:HyperLink ID="hlnkView" runat="server" Text="View" NavigateUrl='<%# "frmClaimApplication.aspx?View="+Eval("ClaimID")%>'></asp:HyperLink></ItemTemplate></asp:TemplateField><asp:TemplateField><ItemTemplate><asp:LinkButton ID="hlnkDownload" runat="server" Text="Download" CommandName="Download" CommandArgument='<%# Eval("ClaimID") %>'></asp:LinkButton></ItemTemplate></asp:TemplateField></Columns>                <EditRowStyle CssClass="grdrowfont"></EditRowStyle>                <HeaderStyle CssClass="titlecolr"></HeaderStyle>                <RowStyle CssClass="grdrowfont"></RowStyle></asp:GridView></div></div><%--<asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="false" OnRowDataBound="grdClaimList_RowDataBound"  style="Z-INDEX: 101" Width="100%"        ShowFooter="false" Font-Size="Small"            Font-Names="Verdana"  BorderStyle="Outset"        AllowSorting="true"               PageSize="7" GridLines="None" ><Columns>    <asp:TemplateField>                    <ItemTemplate>                        <a href="javascript:expandcollapse('div<%# Eval("ClaimID") %>', 'one');">                            <img id="imgdiv<%# Eval("ClaimID") %>" alt="Click to show/hide Orders for Customer <%# Eval("ClaimID") %>"  width="9px" border="0" src="plus.gif"/>                        </a>                    </ItemTemplate>                </asp:TemplateField>                                <asp:TemplateField AccessibleHeaderText="AWBNo" HeaderText="AWBNo" Visible="false"><ItemTemplate><asp:Label ID="lblClaimID" runat="server" Text='<%# Eval("ClaimID") %>' Visible="false"></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField AccessibleHeaderText="AWBNo" HeaderText="AWBNo"><ItemTemplate><asp:Label ID="lblAWBNo" runat="server" Text='<%# Eval("AWBNumber") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Name of Applicant"><ItemTemplate><asp:Label ID="lblFullName" runat="server" Text='<%# Eval("FullName") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Type"><ItemTemplate><asp:Label ID="lblClaimType" runat="server" Text='<%# Eval("ClaimType") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Station"><ItemTemplate><asp:Label ID="lblClaimStation" runat="server" Text='<%# Eval("ClaimStation") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Date"><ItemTemplate><asp:Label ID="lblClaimDate" runat="server" Text='<%# Eval("ClaimDate") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Status"><ItemTemplate><asp:Label ID="lblClaimStatus" runat="server" Text='<%# Eval("Status") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Claim Amount"><ItemTemplate><asp:Label ID="lblClaimAmt" runat="server" Text='<%# Eval("ClaimAmt") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Nature Of Goods"><ItemTemplate><asp:Label ID="Commodity" runat="server" Text='<%# Eval("Commodity") %>'></asp:Label></ItemTemplate></asp:TemplateField><asp:TemplateField><ItemTemplate><tr><td>                                <div id="div<%# Eval("ClaimID") %>" style="display:none;position:relative;left:15px;OVERFLOW: auto;WIDTH:97%" ><asp:GridView ID="grdDocuments" runat="server"><Columns><asp:TemplateField HeaderText="Invoice"><ItemTemplate><asp:Label ID="lblInvoice" runat="server" Text='<%# Eval("Invoice") %>'></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Package List"><ItemTemplate><asp:Label ID="lblPkgList" runat="server" Text='<%# Eval("PkgList") %>'></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Customs Report"><ItemTemplate><asp:Label ID="lblsCustomsRpt" runat="server" Text='<%# Eval("CustReport") %>'></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Subrogation Letter"><ItemTemplate><asp:Label ID="lblSubLetter" runat="server" Text='<%# Eval("SubLetter") %>'></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Survey Report"><ItemTemplate><asp:Label ID="lblSurRpt" runat="server" Text='<%# Eval("SurReport") %>'></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Authority Report"><ItemTemplate><asp:Label ID="lblAuthRpt" runat="server" Text='<%# Eval("AuthReport") %>' ></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Station Report"><ItemTemplate><asp:Label ID="lblStationRpt" runat="server" Text='<%# Eval("StationReport") %>'></asp:Label> </ItemTemplate></asp:TemplateField><asp:TemplateField HeaderText="Picture"><ItemTemplate><asp:Label ID="lblPicture" runat="server" Text='<%# Eval("Picture") %>'></asp:Label> </ItemTemplate></asp:TemplateField></Columns>                <EditRowStyle CssClass="grdrowfont"></EditRowStyle>                <HeaderStyle CssClass="titlecolr"></HeaderStyle>                <RowStyle CssClass="grdrowfont"></RowStyle></asp:GridView></div></td></tr></ItemTemplate></asp:TemplateField><asp:TemplateField><ItemTemplate><asp:HyperLink ID="hlnkEdit" runat="server" Text="Edit" NavigateUrl='<%# "frmClaimApplication.aspx?Edit=" + Eval("ClaimID")%>'></asp:HyperLink></ItemTemplate></asp:TemplateField><asp:TemplateField><ItemTemplate><asp:HyperLink ID="hlnkView" runat="server" Text="View" NavigateUrl='<%# "frmClaimApplication.aspx?View="+Eval("ClaimID")%>'></asp:HyperLink></ItemTemplate></asp:TemplateField></Columns>                <EditRowStyle CssClass="grdrowfont"></EditRowStyle>                <HeaderStyle CssClass="titlecolr"></HeaderStyle>                <RowStyle CssClass="grdrowfont"></RowStyle></asp:GridView>--%></asp:Content>